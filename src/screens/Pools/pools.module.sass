@import ../../styles/helpers

// ============================================================================
// POOLS PAGE
// ============================================================================
.poolsPage
    max-width: 1400px
    margin: 0 auto
    padding: 40px 24px
    color: $n2
    +dark
        color: $n8

    // Stats Header
    .statsHeader
        display: grid
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))
        gap: 20px
        margin-bottom: 40px

        .statCard
            background: $n8
            border: 1px solid $n6
            border-radius: 16px
            padding: 24px
            transition: all 0.3s ease
            +dark
                background: $n2
                border-color: $n3

            &:hover
                transform: translateY(-2px)
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08)
                border-color: $n5
                +dark
                    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4)
                    border-color: $n4

            .statLabel
                font-size: 13px
                color: $n4
                text-transform: uppercase
                letter-spacing: 0.5px
                margin-bottom: 12px
                +dark
                    color: $n5

            .statValue
                font-size: 32px
                font-weight: 700
                color: $n2
                margin-bottom: 8px
                +dark
                    color: $n8

            .statChange
                font-size: 14px
                color: $n4
                +dark
                    color: $n5

                &.positive
                    color: $p4

                    &::before
                        content: '↑ '

                &.negative
                    color: $p3

                    &::before
                        content: '↓ '

    // Pools Container
    .poolsContainer
        background: $n8
        border: 1px solid $n6
        border-radius: 16px
        padding: 32px
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04)
        +dark
            background: $n2
            border-color: $n3
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2)

        .poolsHeader
            display: flex
            justify-content: space-between
            align-items: center
            margin-bottom: 32px

            h1
                font-size: 28px
                font-weight: 700
                margin: 0
                color: $n2
                +dark
                    color: $n8

        // Controls
        .controls
            display: flex
            justify-content: space-between
            align-items: center
            margin-bottom: 24px
            gap: 20px
            flex-wrap: wrap

            .tabs
                display: flex
                gap: 8px
                background: $n7
                padding: 4px
                border-radius: 8px
                +dark
                    background: $n3

                .tab
                    padding: 10px 20px
                    background: transparent
                    border: none
                    border-radius: 6px
                    color: $n4
                    font-size: 14px
                    font-weight: 500
                    cursor: pointer
                    transition: all 0.2s ease
                    +dark
                        color: $n5

                    &:hover
                        color: $n2
                        background: rgba($p1, 0.1)
                        +dark
                            color: $n8

                    &.active
                        background: $p1
                        color: $white
                        box-shadow: 0 2px 8px rgba($p1, 0.3)

            .searchBox
                position: relative
                flex: 1
                max-width: 400px

                input
                    width: 100%
                    padding: 12px 16px
                    background: $n7
                    border: 1px solid $n6
                    border-radius: 8px
                    color: $n2
                    font-size: 14px
                    transition: all 0.2s ease
                    +dark
                        background: $n3
                        border-color: $n4
                        color: $n8

                    &:focus
                        outline: none
                        border-color: $p1
                        box-shadow: 0 0 0 3px rgba($p1, 0.1)

                    &::placeholder
                        color: $n4
                        +dark
                            color: $n5

        // Table
        .tableContainer
            overflow-x: auto
            border-radius: 12px
            border: 1px solid $n6
            +dark
                border-color: $n3

            .poolsTable
                width: 100%
                border-collapse: collapse
                background: $n8
                +dark
                    background: $n2

                thead
                    background: $n7
                    +dark
                        background: $n3

                    tr
                        border-bottom: 2px solid $n6
                        +dark
                            border-color: $n4

                    th
                        padding: 16px
                        text-align: left
                        font-size: 12px
                        font-weight: 600
                        color: $n4
                        text-transform: uppercase
                        letter-spacing: 0.5px
                        white-space: nowrap
                        +dark
                            color: $n5

                        &.sortable
                            cursor: pointer
                            user-select: none
                            transition: all 0.2s ease

                            &:hover
                                color: $n2
                                +dark
                                    color: $n8

                tbody
                    tr
                        border-bottom: 1px solid $n6
                        transition: all 0.2s ease
                        cursor: pointer
                        +dark
                            border-color: $n3

                        &:hover
                            background: $n7
                            +dark
                                background: $n3

                        &.myLiquidity
                            background: rgba($p1, 0.05)
                            +dark
                                background: rgba($p1, 0.1)

                        &:last-child
                            border-bottom: none

                    td
                        padding: 20px 16px
                        font-size: 14px
                        color: $n2
                        +dark
                            color: $n8

                        &.poolRank
                            color: $n4
                            font-weight: 600
                            font-size: 16px
                            +dark
                                color: $n5

                        &.poolPair
                            .tokenLogos
                                display: inline-flex
                                margin-right: 12px
                                position: relative

                                .tokenLogo
                                    width: 32px
                                    height: 32px
                                    border-radius: 50%
                                    background: $n7
                                    border: 2px solid $n8
                                    display: flex
                                    align-items: center
                                    justify-content: center
                                    font-size: 18px
                                    +dark
                                        background: $n3
                                        border-color: $n2

                                    &:last-child
                                        margin-left: -12px

                            .pairInfo
                                display: inline-block
                                vertical-align: middle

                                .pairSymbols
                                    font-weight: 600
                                    color: $n2
                                    margin-bottom: 4px
                                    +dark
                                        color: $n8

                                .pairNames
                                    font-size: 12px
                                    color: $n4
                                    +dark
                                        color: $n5

                        &.poolTvl,
                        &.poolVolume,
                        &.poolFees
                            .value
                                font-weight: 600
                                color: $n2
                                +dark
                                    color: $n8

                        &.poolApr
                            .aprBadge
                                padding: 6px 12px
                                border-radius: 20px
                                font-weight: 600
                                font-size: 13px

                                &.high
                                    background: rgba($p4, 0.15)
                                    color: $p4

                                &.medium
                                    background: rgba($s3, 0.15)
                                    color: darken($s3, 20%)

                                &.low
                                    background: rgba($n4, 0.15)
                                    color: $n4

                        &.poolLiquidity
                            .yourLiquidity
                                display: flex
                                align-items: center
                                gap: 8px

                                .value
                                    font-weight: 600
                                    color: $p1

                                .badge
                                    padding: 4px 8px
                                    background: rgba($p1, 0.15)
                                    color: $p1
                                    border-radius: 4px
                                    font-size: 11px
                                    font-weight: 600

                            .noLiquidity
                                color: $n4
                                +dark
                                    color: $n5

                        &.poolActions
                            text-align: right

                            .btnAction
                                padding: 8px 16px
                                border: none
                                border-radius: 6px
                                font-size: 13px
                                font-weight: 600
                                cursor: pointer
                                transition: all 0.2s ease
                                margin-left: 8px

                                &.btnAdd
                                    background: $p1
                                    color: $white

                                    &:hover
                                        background: darken($p1, 5%)
                                        transform: translateY(-1px)
                                        box-shadow: 0 4px 12px rgba($p1, 0.3)

                                &.btnRemove
                                    background: transparent
                                    color: $p3
                                    border: 1px solid $p3

                                    &:hover
                                        background: rgba($p3, 0.1)

        // Empty State
        .emptyState
            text-align: center
            padding: 80px 20px

            .emptyIcon
                font-size: 64px
                margin-bottom: 20px
                opacity: 0.3

            h3
                font-size: 20px
                color: $n2
                margin-bottom: 8px
                +dark
                    color: $n8

            p
                color: $n4
                font-size: 14px
                +dark
                    color: $n5

    // Loading State
    .loading
        display: flex
        flex-direction: column
        align-items: center
        justify-content: center
        padding: 80px 20px

        .spinner
            font-size: 48px
            margin-bottom: 16px
            animation: spin 1s linear infinite

        p
            color: $n4
            font-size: 16px
            +dark
                color: $n5

        @keyframes spin
            from
                transform: rotate(0deg)
            to
                transform: rotate(360deg)

// ============================================================================
// BUTTONS
// ============================================================================
.btnPrimary
    padding: 12px 24px
    background: linear-gradient(135deg, $p1 0%, $p2 100%)
    color: $white
    border: none
    border-radius: 12px
    font-size: 14px
    font-weight: 600
    cursor: pointer
    display: inline-flex
    align-items: center
    gap: 8px
    transition: all 0.2s ease
    box-shadow: 0 4px 12px rgba($p1, 0.2)

    .icon
        font-size: 18px
        font-weight: 700

    &:hover
        transform: translateY(-2px)
        box-shadow: 0 6px 20px rgba($p1, 0.4)

    &:active
        transform: translateY(0)

    &:disabled
        opacity: 0.5
        cursor: not-allowed
        transform: none

.btnSecondary
    padding: 12px 24px
    background: $n7
    color: $n2
    border: 1px solid $n6
    border-radius: 12px
    font-size: 14px
    font-weight: 600
    cursor: pointer
    transition: all 0.2s ease
    +dark
        background: $n3
        color: $n8
        border-color: $n4

    &:hover
        background: $n6
        border-color: $n5
        +dark
            background: $n4
            border-color: $n5

// ============================================================================
// MODAL
// ============================================================================
.modalOverlay
    position: fixed
    top: 0
    left: 0
    right: 0
    bottom: 0
    background: rgba(0, 0, 0, 0.7)
    backdrop-filter: blur(8px)
    display: flex
    align-items: center
    justify-content: center
    z-index: 1000
    padding: 20px
    animation: fadeIn 0.2s ease
    +dark
        background: rgba(0, 0, 0, 0.85)

    @keyframes fadeIn
        from
            opacity: 0
        to
            opacity: 1

    .modal
        background: $n8
        border: 1px solid $n6
        border-radius: 16px
        width: 100%
        max-width: 520px
        max-height: 90vh
        overflow-y: auto
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15)
        animation: slideUp 0.3s ease
        +dark
            background: $n2
            border-color: $n3
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6)

        @keyframes slideUp
            from
                transform: translateY(20px)
                opacity: 0
            to
                transform: translateY(0)
                opacity: 1

        .modalHeader
            padding: 24px
            border-bottom: 1px solid $n6
            display: flex
            justify-content: space-between
            align-items: center
            +dark
                border-color: $n3

            h2
                font-size: 20px
                font-weight: 700
                margin: 0
                color: $n2
                +dark
                    color: $n8

            .closeBtn
                width: 32px
                height: 32px
                border-radius: 50%
                background: $n7
                border: none
                color: $n4
                font-size: 24px
                cursor: pointer
                display: flex
                align-items: center
                justify-content: center
                transition: all 0.2s ease
                +dark
                    background: $n3
                    color: $n5

                &:hover
                    background: $n6
                    color: $n2
                    +dark
                        background: $n4
                        color: $n8

        .modalBody
            padding: 24px

            .poolInfoBanner
                background: linear-gradient(135deg, rgba($p1, 0.1) 0%, rgba($p2, 0.05) 100%)
                border: 1px solid rgba($p1, 0.2)
                border-radius: 12px
                padding: 16px
                margin-bottom: 24px
                display: flex
                justify-content: space-between
                align-items: center
                +dark
                    background: linear-gradient(135deg, rgba($p1, 0.15) 0%, rgba($p2, 0.1) 100%)

                .poolPairLarge
                    display: flex
                    align-items: center
                    gap: 12px

                    .tokenLogoLarge
                        width: 40px
                        height: 40px
                        border-radius: 50%
                        background: $n7
                        border: 2px solid $p1
                        display: flex
                        align-items: center
                        justify-content: center
                        font-size: 24px
                        +dark
                            background: $n3

                        &:nth-child(2)
                            margin-left: -16px

                    .pairText
                        font-size: 18px
                        font-weight: 700
                        color: $n2
                        +dark
                            color: $n8

                .poolStatsInline
                    display: flex
                    gap: 16px

                    .statInline
                        .label
                            font-size: 12px
                            color: $n4
                            margin-right: 4px
                            +dark
                                color: $n5

                        .value
                            font-weight: 600
                            color: $n2
                            +dark
                                color: $n8

                            &.apr
                                color: $p4

            .inputGroup
                position: relative
                margin-bottom: 16px

                .inputHeader
                    display: flex
                    justify-content: space-between
                    align-items: center
                    margin-bottom: 8px

                    label
                        font-size: 14px
                        font-weight: 600
                        color: $n4
                        +dark
                            color: $n5

                    .balance
                        font-size: 12px
                        color: $n4
                        +dark
                            color: $n5

                .inputWrapper
                    position: relative
                    display: flex
                    align-items: center
                    background: $n7
                    border: 1px solid $n6
                    border-radius: 12px
                    padding: 16px
                    transition: all 0.2s ease
                    +dark
                        background: $n3
                        border-color: $n4

                    &:focus-within
                        border-color: $p1
                        box-shadow: 0 0 0 3px rgba($p1, 0.1)

                    input
                        flex: 1
                        background: transparent
                        border: none
                        color: $n2
                        font-size: 20px
                        font-weight: 600
                        outline: none
                        +dark
                            color: $n8

                        &::placeholder
                            color: $n4
                            +dark
                                color: $n5

                        &::-webkit-inner-spin-button,
                        &::-webkit-outer-spin-button
                            -webkit-appearance: none
                            margin: 0

                    .tokenSelect
                        display: flex
                        align-items: center
                        gap: 8px
                        padding: 8px 12px
                        background: $n8
                        border-radius: 8px
                        cursor: pointer
                        transition: all 0.2s ease
                        +dark
                            background: $n2

                        &:hover
                            background: $n6
                            +dark
                                background: $n4

                        .tokenLogo
                            width: 24px
                            height: 24px
                            border-radius: 50%
                            display: flex
                            align-items: center
                            justify-content: center
                            font-size: 14px

                        .tokenSymbol
                            font-weight: 600
                            color: $n2
                            +dark
                                color: $n8

                .maxBtn
                    position: absolute
                    right: 120px
                    top: 50%
                    transform: translateY(-50%)
                    padding: 6px 12px
                    background: rgba($p1, 0.15)
                    color: $p1
                    border: none
                    border-radius: 6px
                    font-size: 12px
                    font-weight: 700
                    cursor: pointer
                    transition: all 0.2s ease

                    &:hover
                        background: rgba($p1, 0.25)

            .inputDivider
                display: flex
                justify-content: center
                margin: 8px 0

                .plusIcon
                    width: 36px
                    height: 36px
                    border-radius: 50%
                    background: $n7
                    border: 2px solid $n6
                    display: flex
                    align-items: center
                    justify-content: center
                    font-size: 20px
                    font-weight: 700
                    color: $n4
                    +dark
                        background: $n3
                        border-color: $n4
                        color: $n5

            .settingsSection
                margin: 24px 0
                padding: 16px
                background: $n7
                border: 1px solid $n6
                border-radius: 12px
                +dark
                    background: $n3
                    border-color: $n4

                .settingHeader
                    display: flex
                    justify-content: space-between
                    align-items: center
                    margin-bottom: 12px
                    font-size: 14px
                    font-weight: 600
                    color: $n4
                    +dark
                        color: $n5

                    .settingValue
                        color: $p1

                .slippageOptions
                    display: flex
                    gap: 8px

                    .slippageBtn
                        flex: 1
                        padding: 10px
                        background: $n8
                        border: 1px solid $n6
                        border-radius: 6px
                        color: $n4
                        font-size: 13px
                        font-weight: 600
                        cursor: pointer
                        transition: all 0.2s ease
                        +dark
                            background: $n2
                            border-color: $n4
                            color: $n5

                        &:hover
                            border-color: $p1
                            color: $n2
                            +dark
                                color: $n8

                        &.active
                            background: $p1
                            border-color: $p1
                            color: $white

                    .customSlippage
                        flex: 1
                        padding: 10px
                        background: $n8
                        border: 1px solid $n6
                        border-radius: 6px
                        color: $n2
                        font-size: 13px
                        text-align: center
                        outline: none
                        transition: all 0.2s ease
                        +dark
                            background: $n2
                            border-color: $n4
                            color: $n8

                        &:focus
                            border-color: $p1

                        &::placeholder
                            color: $n4
                            +dark
                                color: $n5

            .priceInfo
                padding: 16px
                background: $n7
                border: 1px solid $n6
                border-radius: 12px
                margin: 16px 0
                +dark
                    background: $n3
                    border-color: $n4

                .infoRow
                    display: flex
                    justify-content: space-between
                    align-items: center
                    padding: 8px 0
                    font-size: 14px

                    &:not(:last-child)
                        border-bottom: 1px solid $n6
                        +dark
                            border-color: $n4

                    span:first-child
                        color: $n4
                        +dark
                            color: $n5

                    span:last-child
                        color: $n2
                        font-weight: 600
                        +dark
                            color: $n8

            .modalActions
                display: flex
                gap: 12px
                margin-top: 24px

                button
                    flex: 1

    .tokenLogo img,
    .tokenLogoLarge img
        width: 100%
        height: 100%
        object-fit: contain
        border-radius: 50%

// ============================================================================
// RESPONSIVE
// ============================================================================
+t
    .poolsPage
        .statsHeader
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr))

        .poolsContainer
            .poolsHeader
                flex-direction: column
                align-items: flex-start
                gap: 16px

+m
    .poolsPage
        padding: 20px 16px

        .statsHeader
            grid-template-columns: 1fr

            .statCard
                .statValue
                    font-size: 24px

        .poolsContainer
            padding: 20px

            .controls
                flex-direction: column
                align-items: stretch

                .searchBox
                    max-width: none

            .tableContainer
                .poolsTable
                    thead
                        display: none

                    tbody
                        tr
                            display: flex
                            flex-direction: column
                            padding: 16px
                            gap: 12px
                            border: 1px solid $n6
                            border-radius: 12px
                            margin-bottom: 12px
                            +dark
                                border-color: $n3

                            td
                                padding: 0
                                display: flex
                                justify-content: space-between
                                align-items: center

                                &.poolActions
                                    justify-content: flex-end

    .modal
        max-width: 100% !important
        margin: 0 !important
        border-radius: 16px 16px 0 0 !important