@import ../../styles/helpers

// Modal Overlay & Container
.modalOverlay
  position: fixed
  top: 0
  left: 0
  right: 0
  bottom: 0
  background: rgba(0, 0, 0, 0.7)
  display: flex
  align-items: center
  justify-content: center
  z-index: 2000
  backdrop-filter: blur(10px)
  animation: fadeIn 0.25s ease
  +m
    padding: 16px
  +a
    padding: 0
    align-items: flex-end

.removeModal
  width: 90%
  max-width: 540px
  background: $n8
  border-radius: 24px
  border: 1px solid $n6
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3)
  display: flex
  flex-direction: column
  animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)
  overflow: hidden
  max-height: 90vh
  +dark
    background: $n2
    border-color: $n3
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8)
  +m
    max-width: 100%
    max-height: 95vh
  +a
    width: 100%
    border-radius: 20px 20px 0 0

// Header
.modalHeader
  display: flex
  justify-content: space-between
  align-items: center
  padding: 24px 28px
  border-bottom: 1px solid $n6
  background: linear-gradient(180deg, rgba($p3, 0.03) 0%, transparent 100%)
  +dark
    border-color: $n4
    background: linear-gradient(180deg, rgba($p3, 0.06) 0%, transparent 100%)
  +m
    padding: 20px 24px
  +a
    padding: 18px 20px

.headerLeft
  display: flex
  align-items: center
  gap: 14px
  +a
    gap: 10px

.headerIcon
  display: flex
  align-items: center
  justify-content: center
  width: 44px
  height: 44px
  background: linear-gradient(135deg, $p3 0%, #ff4757 100%)
  border-radius: 12px
  box-shadow: 0 4px 16px rgba($p3, 0.3)
  +a
    width: 36px
    height: 36px
    border-radius: 10px
  svg
    stroke: $white
    +a
      width: 20px
      height: 20px

.modalTitle
  +body-bold-1
  color: $n2
  margin: 0
  +dark
    color: $n8
  +m
    font-size: 18px
  +a
    font-size: 17px

.modalSubtitle
  +caption-1
  color: $n4
  margin: 2px 0 0
  +dark
    color: $n5
  +a
    font-size: 12px

.modalClose
  display: flex
  align-items: center
  justify-content: center
  width: 40px
  height: 40px
  background: $n7
  border: none
  border-radius: 12px
  cursor: pointer
  transition: all .2s
  flex-shrink: 0
  +dark
    background: $n3
  +a
    width: 36px
    height: 36px
  svg
    stroke: $n4
    +dark
      stroke: $n5
    +a
      width: 20px
      height: 20px
  &:hover
    background: $n6
    transform: rotate(90deg) scale(1.05)
    +dark
      background: $n4
    svg
      stroke: $p3

// Body
.modalBody
  padding: 24px 28px
  display: flex
  flex-direction: column
  gap: 20px
  overflow-y: auto
  +m
    padding: 20px
  +a
    padding: 18px 16px
    gap: 16px

// Position Card
.positionCard
  background: linear-gradient(135deg, rgba($p1, 0.05) 0%, rgba($p2, 0.03) 100%)
  border: 1px solid rgba($p1, 0.15)
  border-radius: 16px
  padding: 18px
  +dark
    background: linear-gradient(135deg, rgba($p1, 0.08) 0%, rgba($p2, 0.05) 100%)
  +a
    padding: 14px
    border-radius: 12px

.positionHeader
  display: flex
  justify-content: space-between
  align-items: center
  margin-bottom: 14px
  +a
    flex-wrap: wrap
    gap: 6px
    margin-bottom: 12px

.positionLabel
  +caption-bold-1
  color: $n3
  +dark
    color: $n6
  +a
    font-size: 12px

.positionShare
  +caption-2
  color: $p1
  background: rgba($p1, 0.1)
  padding: 4px 10px
  border-radius: 8px
  font-weight: 600
  +a
    padding: 3px 8px
    font-size: 11px
    border-radius: 6px

.positionTokens
  display: flex
  gap: 12px
  +a
    flex-direction: column
    gap: 10px

.positionToken
  flex: 1
  display: flex
  align-items: center
  gap: 10px
  background: $white
  padding: 12px
  border-radius: 12px
  +dark
    background: $n3
  +a
    padding: 10px
    gap: 8px
    border-radius: 10px

.tokenLogo
  font-size: 32px
  width: 40px
  height: 40px
  display: flex
  align-items: center
  justify-content: center
  background: linear-gradient(135deg, rgba($p1, 0.1) 0%, rgba($p2, 0.15) 100%)
  border-radius: 50%
  flex-shrink: 0
  +a
    font-size: 28px
    width: 36px
    height: 36px

.tokenDetails
  display: flex
  flex-direction: column
  gap: 2px
  min-width: 0
  flex: 1

.tokenAmount
  +body-bold-2
  color: $n2
  +dark
    color: $n8
  +a
    font-size: 14px

.tokenSymbol
  +caption-2
  color: $n4
  +dark
    color: $n5
  +a
    font-size: 11px

// Removal Section
.removalSection
  display: flex
  flex-direction: column
  gap: 14px
  +a
    gap: 12px

.sectionHeader
  display: flex
  justify-content: space-between
  align-items: center
  +a
    flex-wrap: wrap

.sectionLabel
  +caption-bold-1
  color: $n3
  text-transform: uppercase
  letter-spacing: 0.5px
  +dark
    color: $n6
  +a
    font-size: 12px

.percentageDisplay
  +body-bold-1
  color: $p3
  font-size: 28px
  +a
    font-size: 24px

.percentageButtons
  display: grid
  grid-template-columns: repeat(4, 1fr)
  gap: 8px
  +a
    gap: 6px

.percentBtn
  padding: 12px
  background: $n7
  border: 2px solid transparent
  border-radius: 12px
  +body-bold-2
  color: $n3
  cursor: pointer
  transition: all .2s
  +dark
    background: $n3
    color: $n6
  +a
    padding: 10px 8px
    font-size: 14px
    border-radius: 10px
  &:hover
    border-color: rgba($p3, 0.3)
    background: $white
    +dark
      background: $n2
  &.active
    background: linear-gradient(135deg, rgba($p3, 0.12) 0%, rgba(#ff4757, 0.08) 100%)
    border-color: $p3
    color: $p3
    font-weight: 700

.sliderContainer
  position: relative
  height: 8px
  margin-top: 8px
  +a
    margin-top: 6px

.sliderTrack
  position: absolute
  width: 100%
  height: 8px
  background: $n6
  border-radius: 8px
  +dark
    background: $n4
  +a
    height: 6px

.sliderFill
  height: 100%
  background: linear-gradient(90deg, $p3 0%, #ff4757 100%)
  border-radius: 8px
  transition: width .2s

.slider
  position: absolute
  width: 100%
  height: 8px
  -webkit-appearance: none
  background: transparent
  outline: none
  z-index: 2
  cursor: pointer
  +a
    height: 20px
    top: -6px
  &::-webkit-slider-thumb
    -webkit-appearance: none
    width: 20px
    height: 20px
    background: $white
    border: 3px solid $p3
    border-radius: 50%
    cursor: pointer
    box-shadow: 0 2px 8px rgba($p3, 0.3)
    transition: transform .2s
    +a
      width: 18px
      height: 18px
      border-width: 2.5px
    &:hover
      transform: scale(1.15)
  &::-moz-range-thumb
    width: 20px
    height: 20px
    background: $white
    border: 3px solid $p3
    border-radius: 50%
    cursor: pointer
    +a
      width: 18px
      height: 18px

// Receive Section
.receiveSection
  display: flex
  flex-direction: column
  gap: 12px
  +a
    gap: 10px

.receiveCards
  display: flex
  flex-direction: column
  gap: 10px
  +a
    gap: 8px

.receiveCard
  display: flex
  justify-content: space-between
  align-items: center
  padding: 16px
  background: $n7
  border: 2px solid $n6
  border-radius: 14px
  transition: all .2s
  +dark
    background: $n3
    border-color: $n4
  +a
    padding: 12px
    border-radius: 12px
    gap: 8px
  &:hover
    border-color: rgba($p3, 0.3)

.receiveLeft
  display: flex
  align-items: center
  gap: 12px
  min-width: 0
  flex: 1
  +a
    gap: 10px

.receiveLogo
  font-size: 36px
  width: 44px
  height: 44px
  display: flex
  align-items: center
  justify-content: center
  background: linear-gradient(135deg, rgba($p3, 0.1) 0%, rgba(#ff4757, 0.08) 100%)
  border-radius: 50%
  flex-shrink: 0
  +a
    font-size: 32px
    width: 40px
    height: 40px

.receiveSymbol
  +body-bold-1
  color: $n2
  +dark
    color: $n8
  +a
    font-size: 16px

.receiveRight
  display: flex
  flex-direction: column
  align-items: flex-end
  gap: 2px
  flex-shrink: 0

.receiveAmount
  +body-bold-1
  color: $n2
  +dark
    color: $n8
  +a
    font-size: 16px

.receiveUsd
  +caption-2
  color: $n4
  +dark
    color: $n5
  +a
    font-size: 11px

// Settings Section
.settingsSection
  display: flex
  flex-direction: column
  gap: 12px
  +a
    gap: 10px

.settingsToggle
  display: flex
  align-items: center
  gap: 10px
  padding: 12px 16px
  background: $n7
  border: 2px solid $n6
  border-radius: 12px
  +body-2
  color: $n3
  cursor: pointer
  transition: all .2s
  +dark
    background: $n3
    border-color: $n4
    color: $n6
  +a
    padding: 10px 14px
    font-size: 14px
    border-radius: 10px
    gap: 8px
  svg
    stroke: $n4
    flex-shrink: 0
    +a
      width: 16px
      height: 16px
  &:hover
    border-color: $p1

.slippageSettings
  display: flex
  flex-direction: column
  gap: 10px
  padding: 16px
  background: $white
  border: 1px solid $n6
  border-radius: 12px
  +dark
    background: $n2
    border-color: $n4
  +a
    padding: 12px
    gap: 8px
    border-radius: 10px

.slippagePresets
  display: grid
  grid-template-columns: repeat(4, 1fr)
  gap: 8px
  +a
    grid-template-columns: repeat(3, 1fr)
    gap: 6px

.slippageBtn
  padding: 10px
  background: $n7
  border: 2px solid transparent
  border-radius: 10px
  +caption-bold-1
  color: $n3
  cursor: pointer
  transition: all .2s
  +dark
    background: $n3
    color: $n6
  +a
    padding: 8px 6px
    font-size: 12px
    border-radius: 8px
  &:hover
    border-color: rgba($p1, 0.3)
  &.active
    background: rgba($p1, 0.1)
    border-color: $p1
    color: $p1

.customSlippageInput
  padding: 10px 12px
  background: $n7
  border: 2px solid transparent
  border-radius: 10px
  +caption-bold-1
  color: $n2
  text-align: center
  outline: none
  +dark
    background: $n3
    color: $n8
  +a
    padding: 8px 10px
    font-size: 12px
    border-radius: 8px
    grid-column: 1 / -1
  &:focus
    border-color: $p1
  +placeholder
    color: $n5

.slippageInfo
  display: flex
  gap: 8px
  padding: 10px
  background: rgba($p1, 0.05)
  border-radius: 8px
  +caption-2
  color: $n4
  line-height: 1.5
  +dark
    background: rgba($p1, 0.08)
    color: $n5
  +a
    padding: 8px
    font-size: 11px
    gap: 6px
  svg
    flex-shrink: 0
    stroke: $p1
    margin-top: 2px
    +a
      width: 12px
      height: 12px

// Details Card
.detailsCard
  background: $n7
  border: 1px solid $n6
  border-radius: 14px
  padding: 16px
  display: flex
  flex-direction: column
  gap: 10px
  +dark
    background: $n3
    border-color: $n4
  +a
    padding: 12px
    gap: 8px
    border-radius: 12px

.detailRow
  display: flex
  justify-content: space-between
  align-items: center
  padding: 8px 0
  gap: 12px
  +a
    padding: 6px 0
    gap: 8px
  &:not(:last-child)
    border-bottom: 1px solid $n6
    +dark
      border-color: $n4

.detailLabel
  +caption-1
  color: $n4
  +dark
    color: $n5
  +a
    font-size: 12px

.detailValue
  +body-bold-2
  color: $n2
  text-align: right
  +dark
    color: $n8
  +a
    font-size: 14px

// Warning Box
.warningBox
  display: flex
  gap: 12px
  padding: 14px
  background: rgba($p3, 0.08)
  border: 1px solid rgba($p3, 0.2)
  border-radius: 12px
  +dark
    background: rgba($p3, 0.12)
    border-color: rgba($p3, 0.3)
  +a
    padding: 12px
    gap: 10px
    border-radius: 10px
  svg
    flex-shrink: 0
    stroke: $p3
    +a
      width: 18px
      height: 18px

.warningTitle
  +caption-bold-1
  color: $p3
  margin-bottom: 4px
  +a
    font-size: 12px
    margin-bottom: 2px

.warningText
  +caption-2
  color: $n3
  line-height: 1.5
  +dark
    color: $n6
  +a
    font-size: 11px

// Footer
.modalFooter
  display: flex
  gap: 12px
  padding: 20px 28px
  border-top: 1px solid $n6
  background: $n7
  flex-shrink: 0
  +dark
    border-color: $n4
    background: $n3
  +m
    padding: 16px 20px
  +a
    flex-direction: column
    padding: 14px 16px
    gap: 10px

.btnSecondary
  flex: 1
  padding: 14px 20px
  background: $white
  color: $n3
  border: 2px solid $n5
  border-radius: 12px
  font-size: 15px
  font-weight: 600
  cursor: pointer
  transition: all .2s
  +dark
    background: $n2
    color: $n6
    border-color: $n4
  +a
    width: 100%
    padding: 12px 20px
    font-size: 14px
    border-radius: 10px
  &:hover:not(:disabled)
    border-color: $n4
    transform: translateY(-2px)
  &:disabled
    opacity: 0.5
    cursor: not-allowed

.btnPrimary
  flex: 2
  padding: 14px 24px
  background: linear-gradient(135deg, $p3 0%, #ff4757 100%)
  color: $white
  border: none
  border-radius: 12px
  font-size: 15px
  font-weight: 700
  cursor: pointer
  display: flex
  align-items: center
  justify-content: center
  gap: 8px
  transition: all .2s
  box-shadow: 0 4px 16px rgba($p3, 0.3)
  +a
    width: 100%
    padding: 12px 24px
    font-size: 14px
    border-radius: 10px
    gap: 6px
  svg
    +a
      width: 16px
      height: 16px
  &:hover:not(:disabled)
    transform: translateY(-2px)
    box-shadow: 0 6px 24px rgba($p3, 0.4)
  &:disabled
    opacity: 0.5
    cursor: not-allowed

.spinner
  width: 16px
  height: 16px
  border: 2px solid rgba($white, 0.3)
  border-top-color: $white
  border-radius: 50%
  animation: spin 0.8s linear infinite
  +a
    width: 14px
    height: 14px

@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1

@keyframes slideUp
  from
    opacity: 0
    transform: translateY(30px) scale(0.96)
  to
    opacity: 1
    transform: translateY(0) scale(1)

@keyframes spin
  to
    transform: rotate(360deg)